[{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to pkgstats","title":"Contributing to pkgstats","text":"First , thanks considering contributing pkgstats! üëç ‚Äôs people like make rewarding us - project maintainers - work pkgstats. üòä pkgstats open source project, maintained people care. repo: https://github.com/ropensci-review-tools/pkgstats issues: https://github.com/ropensci-review-tools/pkgstats/issues new_issue: https://github.com/ropensci-review-tools/pkgstats/issues/new website: https://docs.ropensci.org/pkgstats/ citation: https://ropensci-review-tools.github.io/pkgstats/authors.html email: mailto:mark@ropensci.org","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of conduct","title":"Contributing to pkgstats","text":"Please note package released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"how-you-can-contribute","dir":"","previous_headings":"","what":"How you can contribute","title":"Contributing to pkgstats","text":"several ways can contribute project. want know contribute open source projects like one, see Open Source Guide.","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"share-the-love-heart","dir":"","previous_headings":"How you can contribute","what":"Share the love ‚ù§Ô∏è","title":"Contributing to pkgstats","text":"Think pkgstats useful? Let others discover , telling person, via Twitter blog post. Using pkgstats paper writing? Consider citing .","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"ask-a-question-interrobang","dir":"","previous_headings":"How you can contribute","what":"Ask a question ‚ÅâÔ∏è","title":"Contributing to pkgstats","text":"Using pkgstats got stuck? Browse documentation see can find solution. Still stuck? Post question issue GitHub. offer user support, ‚Äôll try best address , questions often lead better documentation discovery bugs. Want ask question private? Contact package maintainer email.","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"propose-an-idea-bulb","dir":"","previous_headings":"How you can contribute","what":"Propose an idea üí°","title":"Contributing to pkgstats","text":"idea new pkgstats feature? Take look documentation issues list see isn‚Äôt included suggested yet. , suggest idea issue GitHub. can‚Äôt promise implement idea, helps : Explain detail work. Keep scope narrow possible. See want contribute code idea well.","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"report-a-bug-bug","dir":"","previous_headings":"How you can contribute","what":"Report a bug üêõ","title":"Contributing to pkgstats","text":"Using pkgstats discovered bug? ‚Äôs annoying! Don‚Äôt let others experience report issue GitHub can fix . good bug report makes easier us , please: Use reprex package create reproducible example. Include version pkgstats following line reprex code:","code":"packageVersion(\"pkgstats\")"},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"improve-the-documentation-open_book","dir":"","previous_headings":"How you can contribute","what":"Improve the documentation üìñ","title":"Contributing to pkgstats","text":"Noticed typo website? Think function use better example? Good documentation makes difference, help improve welcome!","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"the-website","dir":"","previous_headings":"How you can contribute > Improve the documentation üìñ","what":"The website","title":"Contributing to pkgstats","text":"website generated pkgdown. means don‚Äôt write html: content pulled together documentation code, vignettes, Markdown files, package DESCRIPTION _pkgdown.yml settings. know way around pkgdown, can propose file change improve documentation. , report issue can point right direction.","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"function-documentation","dir":"","previous_headings":"How you can contribute > Improve the documentation üìñ","what":"Function documentation","title":"Contributing to pkgstats","text":"Functions described comments near code translated documentation using roxygen2. want improve function description: Go R/ directory code repository. Look file name function. Propose file change update function documentation roxygen comments (starting #').","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"contribute-code-pencil","dir":"","previous_headings":"How you can contribute","what":"Contribute code üìù","title":"Contributing to pkgstats","text":"Care fix bugs implement new functionality pkgstats? Awesome! üëè look issue list leave comment things want work . See also development guidelines .","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"development-guidelines","dir":"","previous_headings":"","what":"Development guidelines","title":"Contributing to pkgstats","text":"try follow GitHub flow development. Fork repo clone computer. learn process, see guide. forked cloned project since worked , pull changes original repo clone using git pull upstream master. Open RStudio project file (.Rproj). Write code. Test code (bonus points adding unit tests). Document code (see function documentation ). Check code devtools::check() aim 0 errors warnings. Commit push changes. Submit pull request.","code":""},{"path":"https://docs.ropensci.org/pkgstats/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"","what":"Code style","title":"Contributing to pkgstats","text":"pkgstats coding style diverges somewhat commonly used tidyverse style guide, primarily judicious use whitespace, aims improve code readability. Code references pkgstats separated whitespace, just like words text. Just like easier understand ‚Äúthree words‚Äù ‚Äúthesethreewords‚Äù, code formatted like : like : position brackets arbitrary, also write pkgstats code opts former style, natural result one ends writing space function (). can easily (re-)format code accord style installing spaceout package running:","code":"these <- three (words (x)) these <- three(words(x)) these <- three( words (x)) this <- function () styler::style_pkg (style = spaceout::spaceout_style)"},{"path":"https://docs.ropensci.org/pkgstats/articles/installation.html","id":"installation-on-linux-systems","dir":"Articles","previous_headings":"","what":"Installation on Linux systems","title":"Installation","text":"package requires system libraries ctags-universal GNU global, automatically installed along package Windows MacOS systems. Linux distributions include sufficiently --date version ctags-universal, must compiled source. can done running single function, ctags_install(), install ctags-universal GNU global. pkgstats package includes function ensure local installations universal-ctags global work correctly. Please ensure see following prior proceeding: Note GNU global can linked installation Universal Ctags plug-parser expand default 5 languages 30. makes difference pkgstats results, gtags output used trace function call networks, possible compiled languages able dynamically share pointers objects. possible default parser regardless. wealth extra information obtained linking global Universal Ctags parser ultimately discarded anyway, yet parsing may take considerably longer. case, ‚Äúdefault‚Äù behaviour may recovered first running following command: See information install plugin details.","code":"ctags_test () #> [1] TRUE Sys.unsetenv (c (\"GTAGSCONF\", \"GTAGSLABEL\"))"},{"path":"https://docs.ropensci.org/pkgstats/articles/pkgstats.html","id":"overview-of-package-statistics","dir":"Articles","previous_headings":"","what":"Overview of Package Statistics","title":"Package Statistics","text":"main pkgstats() function returns list eight main components: \"loc\" summarising ‚ÄúLines Code‚Äù package sub-directories languages; \"vignettes\" containing counts numbers vignettes demos; \"data_stats\" summarising data files; \"desc\" summarising contents package ‚ÄúDESCRIPTION‚Äù file; \"translations\" summarising translations (human) languages; \"objects\": table ‚Äúobjects‚Äù languages; \"network\": table relationships objects, function calls; \"external_calls\": detailed table calls made R functions. following sub-sections provide detail components (except simpler components \"vignettes\", \"data_stats\", \"translations\"). results use output applying function source code package: result list various data extracted code. except objects network represent summary data: results demonstrate many fields use NA denote values zero. following sub-sections explore various components generated pkgstats() function detail.","code":"s <- pkgstats () # run in root directory of `pkgstats` source s [!names (s) %in% c (\"objects\", \"network\", \"external_calls\")] #> $loc #> # A tibble: 4 √ó 11 #>   language dir       nfiles nlines ncode nempty nspaces nchars nexpr ntabs #>   <chr>    <chr>      <int>  <int> <int>  <int>   <int>  <int> <int> <int> #> 1 C++      src            3    364   276     67     932   6983     1     0 #> 2 R        R             24   4727   345    682     333 114334     1     0 #> 3 R        tests          7    300   234     61     511   5543     1     0 #> 4 Rmd      vignettes      2    347   278     61    1483  11290     1     0 #> # ‚Ñπ 1 more variable: indentation <int> #>  #> $vignettes #> vignettes     demos  #>         2         0  #>  #> $data_stats #>           n  total_size median_size  #>           0           0           0  #>  #> $desc #>    package verion                     date license #> 1 pkgstats  0.1.1 Thu Oct 24 16:18:25 2024   GPL-3 #>                                                                                       urls #> 1 https://docs.ropensci.org/pkgstats/,\\nnhttps://github.com/ropensci-review-tools/pkgstats #>                                                       bugs aut ctb fnd rev ths #> 1 https://github.com/ropensci-review-tools/pkgstats/issues   1   0   0   0   0 #>   trl depends                                                        imports #> 1   0      NA brio, checkmate, dplyr, fs, igraph, methods, readr, sys, withr #>                                                                                          suggests #> 1 curl, hms, jsonlite, knitr, parallel, pkgbuild, Rcpp, rmarkdown, roxygen2, testthat, visNetwork #>   enchances linking_to #> 1      <NA>      cpp11 #>  #> $translations #> [1] NA"},{"path":"https://docs.ropensci.org/pkgstats/articles/pkgstats.html","id":"lines-of-code","dir":"Articles","previous_headings":"","what":"Lines of Code","title":"Package Statistics","text":"first item list ‚Äúloc‚Äù Lines--Code, counted using internal routine specifically developed R packages, provides accurate R-specific information open source code counting libraries. example, counts pkgstats able distinguish separately count code chunks text lines .Rmd files. output includes following components, grouped computer language package directory: nfiles = Numbers files directory language. nlines = Total numbers lines files. ncode = Total numbers lines code. ndoc = Total numbers documentation comment lines. nempty = Total numbers empty blank lines. nspaces = Total numbers white spaces code lines, excluding leading indentation spaces. nchars = Total numbers non-white-space characters code lines. nexpr = Median numbers nested expressions lines expressions (see ). ntabs = Number lines code initial tab indentation. indentation = Number spaces code indented (-1 denoting tab-indentation). Numbers nested expressions counted numbers brackets braces type nested single line. following line one nested bracket: following four: Code fewer nested expressions per line generally easier read, metric provided one indication general readability code. second relative indication may extracted converting numbers spaces characters measure relative numbers white spaces, noting nchars value quantifies total characters including white spaces. Finally, ntabs statistic can used identify whether code uses tab characters indentation, otherwise indentation statistics indicate median numbers white spaces code indented. objects, network, external_calls items returned pkgstats() function described .","code":"s$loc #> # A tibble: 4 √ó 11 #>   language dir       nfiles nlines ncode nempty nspaces nchars nexpr ntabs #>   <chr>    <chr>      <int>  <int> <int>  <int>   <int>  <int> <int> <int> #> 1 C++      src            3    364   276     67     932   6983     1     0 #> 2 R        R             24   4727   345    682     333 114334     1     0 #> 3 R        tests          7    300   234     61     511   5543     1     0 #> 4 Rmd      vignettes      2    347   278     61    1483  11290     1     0 #> # ‚Ñπ 1 more variable: indentation <int> x <- myfn () x <- function () { return (myfn ()) } index <- which (s$loc$dir %in% c (\"R\", \"src\")) # consider source code only sum (s$loc$nspaces [index]) / sum (s$loc$nchars [index]) #> [1] 0.01042723"},{"path":"https://docs.ropensci.org/pkgstats/articles/pkgstats.html","id":"desc-the-package-description-file","dir":"Articles","previous_headings":"","what":"\"desc\": The package ‚ÄúDESCRIPTION‚Äù file","title":"Package Statistics","text":"desc item looks like : item includes following components: Package name, version, date, license Package URL(s) (urls) URL BugReports (bugs) Number contributors role author (desc_n_aut), contributor (desc_n_ctb), funder (desc_n_fnd), reviewer (desc_n_rev), thesis advisor (ths), translator (trl, relating translation computer spoken languages). Comma-separated character entries depends, imports, suggests, linking_to packages. ‚ÄúDate‚Äù field taken ‚ÄúDate/Publication‚Äù field automatically inserted CRAN package publication, non-CRAN packages ‚Äúmtime‚Äù value (modification time) value DESCRIPTION file. Note ‚Äúdate‚Äù values extracted pkgstats use ‚ÄúDate‚Äù values DESCRIPTION files (manually-entered, potentially unreliable).","code":"s$desc #>    package verion                     date license #> 1 pkgstats  0.1.1 Thu Oct 24 16:18:25 2024   GPL-3 #>                                                                                       urls #> 1 https://docs.ropensci.org/pkgstats/,\\nnhttps://github.com/ropensci-review-tools/pkgstats #>                                                       bugs aut ctb fnd rev ths #> 1 https://github.com/ropensci-review-tools/pkgstats/issues   1   0   0   0   0 #>   trl depends                                                        imports #> 1   0      NA brio, checkmate, dplyr, fs, igraph, methods, readr, sys, withr #>                                                                                          suggests #> 1 curl, hms, jsonlite, knitr, parallel, pkgbuild, Rcpp, rmarkdown, roxygen2, testthat, visNetwork #>   enchances linking_to #> 1      <NA>      cpp11"},{"path":"https://docs.ropensci.org/pkgstats/articles/pkgstats.html","id":"objects-objects-in-all-languages","dir":"Articles","previous_headings":"\"desc\": The package ‚ÄúDESCRIPTION‚Äù file","what":"1.3 \"objects\": Objects in all languages","title":"Package Statistics","text":"objects item contains code objects identified code-tagging library ctags. R, primarily functions, languages may variety entities class structure definitions, sub-members thereof. Object tables look like : Objects primarily sorted language, R-language objects given first. mostly functions, include statistics : lines code used define function (loc); numbers parameters (npars); whether function includes ‚Äúthree dots‚Äù parameter (, ...; identified has_dots); whether function exported (exported); Mean median numbers character used document parameter (param_nchards_mn param_nchards_md, respectively); Total number lines documentation object / function.","code":"head (s$objects) #>           file_name                   fn_name     kind language loc npars #> 1 R/archive-trawl.R     pkgstats_from_archive function        R  89     9 #> 2 R/archive-trawl.R        list_archive_files function        R  17     2 #> 3 R/archive-trawl.R             rm_prev_files function        R  24     2 #> 4 R/archive-trawl.R pkgstats_fns_from_archive function        R  82     7 #> 5         R/cpp11.R                   cpp_loc function        R   3     4 #> 6 R/ctags-install.R                clone_ctag function        R  17     1 #>   has_dots exported param_nchards_md param_nchards_mn num_doclines #> 1    FALSE     TRUE              133         159.7778           77 #> 2    FALSE    FALSE               NA               NA           NA #> 3    FALSE    FALSE               NA               NA           NA #> 4    FALSE     TRUE              163         174.5714           50 #> 5    FALSE    FALSE               NA               NA           NA #> 6    FALSE    FALSE               NA               NA           NA"},{"path":"https://docs.ropensci.org/pkgstats/articles/pkgstats.html","id":"network-relationships-between-objects","dir":"Articles","previous_headings":"","what":"\"network\": Relationships between objects","title":"Package Statistics","text":"network item details relationships objects, generally reflects one object calling otherwise depending another object. row thus represents one edge ‚Äúfunction call‚Äù network, entry columns representing network vertices nodes. network table includes additional statistics centrality edge, measured betweenness centrality assuming edges directed (centrality_dir) undirected (centrality_undir). central edges reflect connections objects central package functionality, vice versa. distinct components network also represented discrete cluster numbers, calculated directed undirected versions network. distinct cluster number represents distinct group objects, internally related members cluster, yet independent objects different cluster numbers. network can viewed interactive vis.js network passing result pkgstats ‚Äì variable p code ‚Äì plot_network() function.","code":"head (s$network) #>                   file line1                    from                        to #> 1   R/external_calls.R    11   external_call_network      extract_call_content #> 2   R/external_calls.R    26   external_call_network add_base_recommended_pkgs #> 3   R/external_calls.R    38   external_call_network   add_other_pkgs_to_calls #> 4   R/external_calls.R   326 add_other_pkgs_to_calls             control_parse #> 5 R/pkgstats-summary.R    39        pkgstats_summary                null_stats #> 6 R/pkgstats-summary.R    50        pkgstats_summary               loc_summary #>   language cluster_dir centrality_dir cluster_undir centrality_undir #> 1        R           1              9             1         230.8333 #> 2        R           1              9             1         230.8333 #> 3        R           1              9             1         230.8333 #> 4        R           1              1             1           6.0000 #> 5        R           1             11             1         874.0000 #> 6        R           1             11             1         874.0000 nrow (s$network) #> [1] 142"},{"path":"https://docs.ropensci.org/pkgstats/articles/pkgstats.html","id":"external_calls-all-calls-made-to-all-r-functions","dir":"Articles","previous_headings":"","what":"\"external_calls\": All calls made to all R functions","title":"Package Statistics","text":"external_calls item structured similar network object, identifies calls functions external packages. However, unlike network object data, provide information objects relationships computer languages used within package, external_calls object maps calls within R code , order provide insight use within package functions packages, including R‚Äôs base recommended packages. object looks like : data converted summary form pkgstats_summary() function, tabulates numbers external calls unique functions package. data presented single character string looks like : data can easily converted corresponding numeric values using code like following: data reveal, example, package makes 581 individual calls 84 unique functions ‚Äúbase‚Äù package.","code":"head (s$external_calls) #>   tags_line      call        tag           file     kind start end package #> 1         1         c GTAGSLABEL R/ctags-test.R nameattr   109 109    base #> 2         2 character  file_name   R/pkgstats.R nameattr   185 185    base #> 3         3 character    fn_name   R/pkgstats.R nameattr   186 186    base #> 4         4   logical   has_dots   R/pkgstats.R nameattr   189 189    base #> 5         5   integer        loc   R/pkgstats.R nameattr   187 187    base #> 6         6 left_join       name       R/plot.R nameattr    89  89   dplyr s_summ <- pkgstats_summary (s) print (s_summ$external_calls) x <- strsplit (s_summ$external_calls, \",\") [[1]] x <- do.call (rbind, strsplit (x, \":\")) x <- data.frame (     pkg = x [, 1],     n_total = as.integer (x [, 2]),     n_unique = as.integer (x [, 3]) ) x$n_total_rel <- round (x$n_total / sum (x$n_total), 3) x$n_unique_rel <- round (x$n_unique / sum (x$n_unique), 3) print (x) #>           pkg n_total n_unique n_total_rel n_unique_rel #> 1        base     581       84       0.704        0.426 #> 2        brio      11        2       0.013        0.010 #> 3        curl       4        3       0.005        0.015 #> 4       dplyr       7        4       0.008        0.020 #> 5          fs       4        2       0.005        0.010 #> 6    graphics      10        2       0.012        0.010 #> 7         hms       2        1       0.002        0.005 #> 8      igraph       3        3       0.004        0.015 #> 9    parallel       2        1       0.002        0.005 #> 10   pkgstats     126       73       0.153        0.371 #> 11      readr       8        5       0.010        0.025 #> 12      stats      19        3       0.023        0.015 #> 13        sys      14        1       0.017        0.005 #> 14      tools       3        2       0.004        0.010 #> 15      utils      22        7       0.027        0.036 #> 16 visNetwork       3        2       0.004        0.010 #> 17      withr       6        2       0.007        0.010"},{"path":"https://docs.ropensci.org/pkgstats/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mark Padgham. Author, maintainer.","code":""},{"path":"https://docs.ropensci.org/pkgstats/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Padgham M (2024). pkgstats: Metrics R Packages. R package version 0.2.0.046, https://github.com/ropensci-review-tools/pkgstats, https://docs.ropensci.org/pkgstats/.","code":"@Manual{,   title = {pkgstats: Metrics of R Packages},   author = {Mark Padgham},   year = {2024},   note = {R package version 0.2.0.046,     https://github.com/ropensci-review-tools/pkgstats},   url = {https://docs.ropensci.org/pkgstats/}, }"},{"path":"https://docs.ropensci.org/pkgstats/index.html","id":"pkgstats","dir":"","previous_headings":"","what":"Metrics of R Packages","title":"Metrics of R Packages","text":"Extract summary statistics R package structure functionality. statistics course, good go balancing insightful statistics ensuring computational feasibility. pkgstats static code analysis tool, generally fast (seconds large packages). Installation described separate vignette.","code":""},{"path":"https://docs.ropensci.org/pkgstats/index.html","id":"what-statistics","dir":"","previous_headings":"","what":"What statistics?","title":"Metrics of R Packages","text":"Statistics derived primary sources: Numbers lines code, documentation, white space (within lines) directory language Summaries package DESCRIPTION file related package meta-statistics Summaries objects created via package code across multiple languages directories containing source code (./R, ./src, ./inst/include). function call network derived function definitions obtained code tagging library, ctags, references (‚Äúcalls‚Äù) obtained another tagging library, gtags. network roughly connects every object making call () every object called (). additional function call network connecting calls within R functions functions R packages. primary function, pkgstats(), returns list various components, including full data.frame objects final three components described . statistical properties list can aggregated pkgstats_summary() function, returns data.frame single row summary statistics. function demonstrated , including full details statistics extracted.","code":""},{"path":"https://docs.ropensci.org/pkgstats/index.html","id":"demonstration","dir":"","previous_headings":"","what":"Demonstration","title":"Metrics of R Packages","text":"following code demonstrates output main function, pkgstats, using internally bundled .tar.gz ‚Äútarball‚Äù package. system.time call demonstrates static code analyses pkgstats generally fast. result list various data extracted code. except objects network represent summary data: various components results described detail main package vignette.","code":"library (pkgstats) tarball <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") system.time (     p <- pkgstats (tarball) ) ##    user  system elapsed  ##   1.701   0.124   1.802 names (p) ## [1] \"loc\"            \"vignettes\"      \"data_stats\"     \"desc\"           ## [5] \"translations\"   \"objects\"        \"network\"        \"external_calls\" p [!names (p) %in% c (\"objects\", \"network\", \"external_calls\")] ## $loc ## # A tibble: 3 √ó 12 ## # Groups:   language, dir [3] ##   language dir   nfiles nlines ncode  ndoc nempty nspaces nchars nexpr ntabs ##   <chr>    <chr>  <int>  <int> <int> <int>  <int>   <int>  <int> <dbl> <int> ## 1 C++      src        3    365   277    21     67     933   7002     1     0 ## 2 R        R         19   3741  2698   536    507   27575  94022     1     0 ## 3 R        tests      7    348   266    10     72     770   6161     1     0 ## # ‚Ä¶ with 1 more variable: indentation <int> ##  ## $vignettes ## vignettes     demos  ##         0         0  ##  ## $data_stats ##           n  total_size median_size  ##           0           0           0  ##  ## $desc ##    package version                date license ## 1 pkgstats     9.9 2022-05-12 11:41:22   GPL-3 ##                                                                                      urls ## 1 https://docs.ropensci.org/pkgstats/,\\nhttps://github.com/ropensci-review-tools/pkgstats ##                                                       bugs aut ctb fnd rev ths ## 1 https://github.com/ropensci-review-tools/pkgstats/issues   1   0   0   0   0 ##   trl depends                                                        imports ## 1   0      NA brio, checkmate, dplyr, fs, igraph, methods, readr, sys, withr ##                                                                         suggests ## 1 hms, knitr, pbapply, pkgbuild, Rcpp, rmarkdown, roxygen2, testthat, visNetwork ##   enhances linking_to ## 1       NA      cpp11 ##  ## $translations ## [1] NA"},{"path":"https://docs.ropensci.org/pkgstats/index.html","id":"overview-of-statistics-and-the-pkgstats_summary-function","dir":"","previous_headings":"Demonstration","what":"Overview of statistics and the pkgstats_summary() function","title":"Metrics of R Packages","text":"summary pkgstats data can obtained submitting object returned pkgstats() pkgstats_summary() function: function reduces result pkgstats() function single line 95 entries, represented data.frame one row number columns. format intended enable summary statistics multiple packages aggregated simply binding rows together. 95 statistics might seem like lot, pkgstats_summary() function aims return many usable raw statistics possible order flexibly allow higher-level statistics derived combination aggregation. 95 statistics can roughly grouped following categories (shown order actually appear), variable names parentheses description. statistics summarised comma-delimited character strings, translations human languages, packages listed ‚Äúdepends‚Äù, ‚Äúimports‚Äù, ‚Äúsuggests‚Äù. enables subsequent analyses contents, example actual translated languages, aggregate numbers individual details package dependencies, demonstrated immediately . Package Summaries name (package) Package version (version) Package date, modification time DESCRIPTION file explicitly stated (date) License (license) Languages, single comma-separated character value (languages), excluding R . List translations package includes translations files, given list (spoken) language codes (translations). Information DESCRIPTION file Package URL(s) (url) URL BugReports (bugs) Number contributors role author (desc_n_aut), contributor (desc_n_ctb), funder (desc_n_fnd), reviewer (desc_n_rev), thesis advisor (ths), translator (trl, relating translation computer spoken languages). Comma-separated character entries depends, imports, suggests, linking_to packages. Numbers entries last two kinds items can obtained simple strsplit call, like : Numbers files associated data Number vignettes (num_vignettes) Number demos (num_demos) Number data files (num_data_files) Total size package data (data_size_total) Median size package data files (data_size_median) Numbers files main sub-directories (files_R, files_src, files_inst, files_vignettes, files_tests), numbers recursively counted sub-directories, inst counts files inst/include sub-directory. Statistics lines code Total lines code sub-directory (loc_R, loc_src, loc_ins, loc_vignettes, loc_tests). Total numbers blank lines sub-directory (blank_lines_R, blank_lines_src, blank_lines_inst, blank_lines_vignette, blank_lines_tests). Total numbers comment lines sub-directory (comment_lines_R, comment_lines_src, comment_lines_inst, comment_lines_vignettes, comment_lines_tests). Measures relative white space sub-directory (rel_space_R, rel_space_src, rel_space_inst, rel_space_vignettes, rel_space_tests), well overall measure R/, src/, inst/ directories (rel_space). number spaces used indent code (indentation), values -1 indicating indentation tab characters. median number nested expression per line code, counting lines expressions (nexpr). Statistics individual objects (including functions) statistics refer ‚Äúfunctions‚Äù, actually represent general ‚Äúobjects,‚Äù global variables class definitions (generally languages R), detailed . Numbers functions R (n_fns_r) Numbers exported non-exported R functions (n_fns_r_exported, n_fns_r_not_exported) Number functions (objects) computer languages (n_fns_src), including functions src inst/include directories. Number functions (objects) per individual file R (src) directories (n_fns_per_file_r, n_fns_per_file_src). Median mean numbers parameters per exported R function (npars_exported_mn, npars_exported_md). Mean median lines code per function R languages, including distinction exported non-exported R functions (loc_per_fn_r_mn, loc_per_fn_r_md, loc_per_fn_r_exp_m, loc_per_fn_r_exp_md, loc_per_fn_r_not_exp_mn, loc_per_fn_r_not_exp_m, loc_per_fn_src_mn, loc_per_fn_src_md). Equivalent mean median numbers documentation lines per function (doclines_per_fn_exp_mn, doclines_per_fn_exp_md, doclines_per_fn_not_exp_m, doclines_per_fn_not_exp_md, docchars_per_par_exp_mn, docchars_per_par_exp_m). Network Statistics full structure network table described , summary statistics including: Number edges, including distinction languages (n_edges, n_edges_r, n_edges_src). Number distinct clusters package network (n_clusters). Mean median centrality network edges, calculated directed undirected representations network (centrality_dir_mn, centrality_dir_md, centrality_undir_mn, centrality_undir_md). Equivalent centrality values excluding edges centrality zero (centrality_dir_mn_no0, centrality_dir_md_no0, centrality_undir_mn_no0, centrality_undir_md_no). Numbers terminal edges (num_terminal_edges_dir, num_terminal_edges_undir). Summary statistics node degree (node_degree_mn, node_degree_md, node_degree_max) External Call Statistics final column result pkgstats_summary() function summarises external_calls object detailing calls make external packages (including base recommended packages). summary also represented single character string. package lists total numbers function calls, total numbers unique function calls. Data package separated comma, data within package separated colon. structure allows numbers calls packages readily extracted code like following: two numeric columns respectively show total number calls made package, total number unique functions used within packages. results provide detailed information numbers calls made , functions used , R packages, including base recommended packages. Finally, summary statistics conclude two statistics afferent_pkg efferent_pkg. package-internal measures afferent efferent couplings files package. afferent couplings (ca) numbers incoming calls file package functions defined elsewhere package, efferent couplings (ce) numbers outgoing calls file package functions defined elsewhere package. can used derive measure ‚Äúinternal package instability‚Äù ratio efferent total coupling (ce / (ce + ca)). many ‚Äúraw‚Äù statistics returned main pkgstats() function represented pkgstats_summary(). main package vignette provides detail full results. following sub-sections provide detail objects, network, external_call items, used extract additional statistics beyond described .","code":"s <- pkgstats_summary (p) deps <- strsplit (s$suggests, \", \") [[1]] length (deps) ## [1] 9 print (deps) ## [1] \"hms\"        \"knitr\"      \"pbapply\"    \"pkgbuild\"   \"Rcpp\"       ## [6] \"rmarkdown\"  \"roxygen2\"   \"testthat\"   \"visNetwork\" s$external_calls ## [1] \"base:447:78,brio:7:1,dplyr:7:4,fs:4:2,graphics:10:2,hms:1:1,igraph:3:3,pbapply:1:1,pkgstats:99:60,readr:8:5,stats:16:2,sys:13:1,tools:2:2,utils:10:7,visNetwork:3:2,withr:5:1\" calls <- do.call (     rbind,     strsplit (strsplit (s$external_call, \",\") [[1]], \":\") ) calls <- data.frame (     package = calls [, 1],     n_total = as.integer (calls [, 2]),     n_unique = as.integer (calls [, 3]) ) print (calls) ##       package n_total n_unique ## 1        base     447       78 ## 2        brio       7        1 ## 3       dplyr       7        4 ## 4          fs       4        2 ## 5    graphics      10        2 ## 6         hms       1        1 ## 7      igraph       3        3 ## 8     pbapply       1        1 ## 9    pkgstats      99       60 ## 10      readr       8        5 ## 11      stats      16        2 ## 12        sys      13        1 ## 13      tools       2        2 ## 14      utils      10        7 ## 15 visNetwork       3        2 ## 16      withr       5        1"},{"path":"https://docs.ropensci.org/pkgstats/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Metrics of R Packages","text":"Please note package released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_install.html","id":null,"dir":"Reference","previous_headings":"","what":"Install 'ctags' from a clone of the 'git' repository ‚Äî ctags_install","title":"Install 'ctags' from a clone of the 'git' repository ‚Äî ctags_install","text":"'ctags' installed package Windows macOS systems; additional function install source Unix systems.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_install.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install 'ctags' from a clone of the 'git' repository ‚Äî ctags_install","text":"","code":"ctags_install(bin_dir = NULL, sudo = TRUE)"},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_install.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install 'ctags' from a clone of the 'git' repository ‚Äî ctags_install","text":"bin_dir Prefix pass autoconf configure command defining location install binary, default /usr/local. sudo Set FALSE sudo available, case value bin_dir also explicitly specified, location binary able installed without sudo privileges.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_install.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install 'ctags' from a clone of the 'git' repository ‚Äî ctags_install","text":"Nothing; function fail installation fails, otherwise returns nothing.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_install.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install 'ctags' from a clone of the 'git' repository ‚Äî ctags_install","text":"","code":"if (FALSE) { # \\dontrun{ ctags_install (bin_dir = \"/usr/local\") # default } # }"},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_test.html","id":null,"dir":"Reference","previous_headings":"","what":"test a 'ctags' installation ‚Äî ctags_test","title":"test a 'ctags' installation ‚Äî ctags_test","text":"uses example https://github.com/universal-ctags/ctags/blob/master/man/ctags-lang-r.7.rst.also checks GNU global installation.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"test a 'ctags' installation ‚Äî ctags_test","text":"","code":"ctags_test(quiet = TRUE)"},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"test a 'ctags' installation ‚Äî ctags_test","text":"quiet TRUE, display screen whether 'ctags' correctly installed.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"test a 'ctags' installation ‚Äî ctags_test","text":"'TRUE' 'FALSE' respectively indicating whether 'ctags' correctly installed.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/ctags_test.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"test a 'ctags' installation ‚Äî ctags_test","text":"","code":"if (FALSE) { # \\dontrun{ ctags_test () } # }"},{"path":"https://docs.ropensci.org/pkgstats/reference/desc_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Statistics from DESCRIPTION files ‚Äî desc_stats","title":"Statistics from DESCRIPTION files ‚Äî desc_stats","text":"Statistics DESCRIPTION files","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/desc_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Statistics from DESCRIPTION files ‚Äî desc_stats","text":"","code":"desc_stats(path)"},{"path":"https://docs.ropensci.org/pkgstats/reference/desc_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Statistics from DESCRIPTION files ‚Äî desc_stats","text":"path Directory source code package analysed","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/desc_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Statistics from DESCRIPTION files ‚Äî desc_stats","text":"data.frame one row 16 columns extracting various information 'DESCRIPTION' file, include websites, tallies different kinds authors contributors, package dependencies.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/desc_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Statistics from DESCRIPTION files ‚Äî desc_stats","text":"","code":"f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") # have to extract tarball to call function on source code: path <- extract_tarball (f) desc_stats (path) #>    package version                date license #> 1 pkgstats     9.9 2022-05-12 09:41:22   GPL-3 #>                                                                                      urls #> 1 https://docs.ropensci.org/pkgstats/,\\nhttps://github.com/ropensci-review-tools/pkgstats #>                                                       bugs aut ctb fnd rev ths #> 1 https://github.com/ropensci-review-tools/pkgstats/issues   1   0   0   0   0 #>   trl depends                                                        imports #> 1   0      NA brio, checkmate, dplyr, fs, igraph, methods, readr, sys, withr #>                                                                         suggests #> 1 hms, knitr, pbapply, pkgbuild, Rcpp, rmarkdown, roxygen2, testthat, visNetwork #>   enhances linking_to #> 1       NA      cpp11"},{"path":"https://docs.ropensci.org/pkgstats/reference/dl_pkgstats_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download latest version of 'pkgstats' data ‚Äî dl_pkgstats_data","title":"Download latest version of 'pkgstats' data ‚Äî dl_pkgstats_data","text":"Download latest version 'pkgstats' data","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/dl_pkgstats_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download latest version of 'pkgstats' data ‚Äî dl_pkgstats_data","text":"","code":"dl_pkgstats_data(current = TRUE, path = tempdir(), quiet = FALSE)"},{"path":"https://docs.ropensci.org/pkgstats/reference/dl_pkgstats_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download latest version of 'pkgstats' data ‚Äî dl_pkgstats_data","text":"current 'FALSE', download data CRAN packages ever released, otherwise (default) download data current CRAN packages. path Local path download file. quiet FALSE, display progress information screen.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/dl_pkgstats_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download latest version of 'pkgstats' data ‚Äî dl_pkgstats_data","text":"(Invisibly) data.frame pkgstats results, one row package.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/extract_tarball.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract tarball of a package into temp directory and return path to extracted package ‚Äî extract_tarball","title":"Extract tarball of a package into temp directory and return path to extracted package ‚Äî extract_tarball","text":"Extract tarball package temp directory return path extracted package","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/extract_tarball.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract tarball of a package into temp directory and return path to extracted package ‚Äî extract_tarball","text":"","code":"extract_tarball(tarball)"},{"path":"https://docs.ropensci.org/pkgstats/reference/extract_tarball.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract tarball of a package into temp directory and return path to extracted package ‚Äî extract_tarball","text":"tarball Full path local tarball R package.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/extract_tarball.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract tarball of a package into temp directory and return path to extracted package ‚Äî extract_tarball","text":"Path extracted version package (tempdir()).","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/extract_tarball.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract tarball of a package into temp directory and return path to extracted package ‚Äî extract_tarball","text":"","code":"f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") path <- extract_tarball (f)"},{"path":"https://docs.ropensci.org/pkgstats/reference/loc_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal calculation of Lines-of-Code Statistics ‚Äî loc_stats","title":"Internal calculation of Lines-of-Code Statistics ‚Äî loc_stats","text":"Internal calculation Lines--Code Statistics","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/loc_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal calculation of Lines-of-Code Statistics ‚Äî loc_stats","text":"","code":"loc_stats(path)"},{"path":"https://docs.ropensci.org/pkgstats/reference/loc_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal calculation of Lines-of-Code Statistics ‚Äî loc_stats","text":"path Directory source code package analysed","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/loc_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal calculation of Lines-of-Code Statistics ‚Äî loc_stats","text":"list statistics three directories, 'R', 'src', 'inst/include', one 5 statistics total numbers lines, numbers empty lines, total numbers white spaces, total numbers characters, indentation used files directory.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/loc_stats.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Internal calculation of Lines-of-Code Statistics ‚Äî loc_stats","text":"NA values returned directories exist.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/loc_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Internal calculation of Lines-of-Code Statistics ‚Äî loc_stats","text":"","code":"f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") # have to extract tarball to call function on source code: path <- extract_tarball (f) loc_stats (path) #> # A tibble: 4 √ó 12 #> # Groups:   language, dir [4] #>   language dir       nfiles nlines ncode  ndoc nempty nspaces nchars nexpr ntabs #>   <chr>    <chr>      <int>  <int> <int> <int>  <int>   <int>  <int> <dbl> <int> #> 1 C++      src            3    365   277    21     67     933   7002     1     0 #> 2 R        R             19   3741  2698   536    507   27575  94022     1     0 #> 3 R        tests          2    146   121     1     24     395   2423     1     0 #> 4 R        tests/te‚Ä¶      5    202   145     9     48     375   3738     1     0 #> # ‚Ñπ 1 more variable: indentation <int>"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats-package.html","id":null,"dir":"Reference","previous_headings":"","what":"pkgstats: Metrics of R Packages ‚Äî pkgstats-package","title":"pkgstats: Metrics of R Packages ‚Äî pkgstats-package","text":"Static code analyses R packages using external code-tagging libraries 'ctags' 'gtags'. Static analyses enable packages analysed quickly, generally couple seconds . package also provides access database generating applying main function full 'CRAN' archive, enabling statistical properties package compared 'CRAN' packages.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"pkgstats: Metrics of R Packages ‚Äî pkgstats-package","text":"Maintainer: Mark Padgham mark.padgham@email.com (ORCID)","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyse statistics of one R package ‚Äî pkgstats","title":"Analyse statistics of one R package ‚Äî pkgstats","text":"Analyse statistics one R package","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyse statistics of one R package ‚Äî pkgstats","text":"","code":"pkgstats(path = \".\")"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyse statistics of one R package ‚Äî pkgstats","text":"path Either path local source repository, local '.tar.gz' file, containing code R package.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analyse statistics of one R package ‚Äî pkgstats","text":"List statistics data function call networks (object relationships languages). Includes following components: loc: Summary Lines--Code package directories vignettes: Numbers vignettes \"demo\" files data_stats: Statistics numbers sizes package data files desc: Summary contents 'DESCRIPTION' file translations: List translations (human) languages (provides) objects: data.frame functions R, objects (functions, classes, structures, global variables, ) languages network: data.frame object references within languages; R function calls, may abstract languages. external_calls: data.frame calls make functions R packages, including base recommended well contributed packages.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyse statistics of one R package ‚Äî pkgstats","text":"","code":"# 'path' can be path to a package tarball: f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") if (FALSE) { # \\dontrun{ s <- pkgstats (f) } # } # or to a source directory: path <- extract_tarball (f) if (FALSE) { # \\dontrun{ s <- pkgstats (path) } # }"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_cran_current_from_full.html","id":null,"dir":"Reference","previous_headings":"","what":"Reduce data.frame of full CRAN archive data to current packages only. ‚Äî pkgstats_cran_current_from_full","title":"Reduce data.frame of full CRAN archive data to current packages only. ‚Äî pkgstats_cran_current_from_full","text":"Reduce data.frame full CRAN archive data current packages .","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_cran_current_from_full.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reduce data.frame of full CRAN archive data to current packages only. ‚Äî pkgstats_cran_current_from_full","text":"","code":"pkgstats_cran_current_from_full(prev_results, results_file = NULL)"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_cran_current_from_full.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reduce data.frame of full CRAN archive data to current packages only. ‚Äî pkgstats_cran_current_from_full","text":"prev_results Result previous call function, available. Submitting previous results ensure newer packages present previous result analysed, new results simply appended previous results. parameter can also specify file read readRDS(). results_file Can used specify name full path .Rds file results saved generated. '.Rds' extension automatically appended, extensions ignored.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fn_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract names of all functions for one R package ‚Äî pkgstats_fn_names","title":"Extract names of all functions for one R package ‚Äî pkgstats_fn_names","text":"Extract names functions one R package","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fn_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract names of all functions for one R package ‚Äî pkgstats_fn_names","text":"","code":"pkgstats_fn_names(path)"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fn_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract names of all functions for one R package ‚Äî pkgstats_fn_names","text":"path Either path local source repository, local '.tar.gz' file, containing code R package.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fn_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract names of all functions for one R package ‚Äî pkgstats_fn_names","text":"data.frame three columns: package: Name package version: Package version fn_name: Name function","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fn_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract names of all functions for one R package ‚Äî pkgstats_fn_names","text":"","code":"# 'path' can be path to a package tarball: f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") path <- extract_tarball (f) s <- pkgstats_fn_names (path)"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fns_from_archive.html","id":null,"dir":"Reference","previous_headings":"","what":"Trawl a local CRAN archive to extract function names only from all packages ‚Äî pkgstats_fns_from_archive","title":"Trawl a local CRAN archive to extract function names only from all packages ‚Äî pkgstats_fns_from_archive","text":"Trawl local CRAN archive extract function names packages","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fns_from_archive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trawl a local CRAN archive to extract function names only from all packages ‚Äî pkgstats_fns_from_archive","text":"","code":"pkgstats_fns_from_archive(   path,   archive = FALSE,   prev_results = NULL,   results_file = NULL,   chunk_size = 1000L,   num_cores = 1L,   results_path = fs::path_temp() )"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fns_from_archive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trawl a local CRAN archive to extract function names only from all packages ‚Äî pkgstats_fns_from_archive","text":"path Path local archive R packages, either source directories, '.tar.gz' files CRAN mirror. archive TRUE, extract statistics packages /Archive sub-directory, otherwise statistics main directory (, current packages ). prev_results Result previous call function, available. Submitting previous results ensure newer packages present previous result analysed, new results simply appended previous results. parameter can also specify file read readRDS(). results_file Can used specify name full path .Rds file results saved generated. '.Rds' extension automatically appended, extensions ignored. chunk_size Divide large archive trawl chunks size, save intermediate results local files. intermediate files can combined generate single prev_results file, enable jobs stopped re-started without recalculate results. files named pkgstats-results-N.Rds, \"N\" incrementally numbers file. num_cores Number machine cores use parallel, defaulting single-core processing. results_path Path save intermediate files generated chunk_size parameter described .","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fns_from_archive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trawl a local CRAN archive to extract function names only from all packages ‚Äî pkgstats_fns_from_archive","text":"data.frame object one row function package following columns: Package name Package version Function name","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fns_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Update function names data from previous data and newly updated CRAN packages only. ‚Äî pkgstats_fns_update","title":"Update function names data from previous data and newly updated CRAN packages only. ‚Äî pkgstats_fns_update","text":"Update function names data previous data newly updated CRAN packages .","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fns_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update function names data from previous data and newly updated CRAN packages only. ‚Äî pkgstats_fns_update","text":"","code":"pkgstats_fns_update(   prev_results = NULL,   results_file = NULL,   chunk_size = 1000L,   num_cores = 1L,   results_path = tempdir() )"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fns_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update function names data from previous data and newly updated CRAN packages only. ‚Äî pkgstats_fns_update","text":"prev_results Result previous call function, available. Submitting previous results ensure newer packages present previous result analysed, new results simply appended previous results. parameter can also specify file read readRDS(). results_file Can used specify name full path .Rds file results saved generated. '.Rds' extension automatically appended, extensions ignored. chunk_size Divide large archive trawl chunks size, save intermediate results local files. intermediate files can combined generate single prev_results file, enable jobs stopped re-started without recalculate results. files named pkgstats-results-N.Rds, \"N\" incrementally numbers file. num_cores Number machine cores use parallel, defaulting single-core processing. results_path Path save intermediate files generated chunk_size parameter described .","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_fns_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update function names data from previous data and newly updated CRAN packages only. ‚Äî pkgstats_fns_update","text":"data.frame object one row function package following columns: Package name Package version Function name","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_from_archive.html","id":null,"dir":"Reference","previous_headings":"","what":"Trawl a local CRAN archive and extract statistics from all packages ‚Äî pkgstats_from_archive","title":"Trawl a local CRAN archive and extract statistics from all packages ‚Äî pkgstats_from_archive","text":"Trawl local CRAN archive extract statistics packages","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_from_archive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trawl a local CRAN archive and extract statistics from all packages ‚Äî pkgstats_from_archive","text":"","code":"pkgstats_from_archive(   path,   archive = TRUE,   prev_results = NULL,   results_file = NULL,   chunk_size = 1000L,   num_cores = 1L,   save_full = FALSE,   save_ex_calls = FALSE,   results_path = fs::path_temp() )"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_from_archive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trawl a local CRAN archive and extract statistics from all packages ‚Äî pkgstats_from_archive","text":"path Path local archive R packages, either source directories, '.tar.gz' files CRAN mirror. archive TRUE, extract statistics packages /Archive sub-directory, otherwise statistics main directory (, current packages ). prev_results Result previous call function, available. Submitting previous results ensure newer packages present previous result analysed, new results simply appended previous results. parameter can also specify file read readRDS(). results_file Can used specify name full path .Rds file results saved generated. '.Rds' extension automatically appended, extensions ignored. chunk_size Divide large archive trawl chunks size, save intermediate results local files. intermediate files can combined generate single prev_results file, enable jobs stopped re-started without recalculate results. files named pkgstats-results-N.Rds, \"N\" incrementally numbers file. num_cores Number machine cores use parallel, defaulting single-core processing. save_full TRUE, full pkgstats results saved package files results_path. save_ex_calls TRUE, results external_calls component saved package files results_path (save_full = FALSE). results_path Path save intermediate files generated chunk_size parameter described .","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_from_archive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trawl a local CRAN archive and extract statistics from all packages ‚Äî pkgstats_from_archive","text":"data.frame object one row package containing summary statistics generated pkgstats_summary function.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_from_archive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Trawl a local CRAN archive and extract statistics from all packages ‚Äî pkgstats_from_archive","text":"","code":"# Create fake archive directory with single tarball: f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") tarball <- basename (f)  archive_path <- file.path (tempdir (), \"archive\") if (!dir.exists (archive_path)) {     dir.create (archive_path) } path <- file.path (archive_path, tarball) file.copy (f, path) #> [1] TRUE tarball_path <- file.path (archive_path, \"tarballs\") dir.create (tarball_path, recursive = TRUE) file.copy (path, file.path (tarball_path, tarball)) #> [1] TRUE if (FALSE) { # \\dontrun{ out <- pkgstats_from_archive (tarball_path) } # }"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Condense the output of pkgstats to summary statistics only ‚Äî pkgstats_summary","title":"Condense the output of pkgstats to summary statistics only ‚Äî pkgstats_summary","text":"Condense output pkgstats summary statistics ","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Condense the output of pkgstats to summary statistics only ‚Äî pkgstats_summary","text":"","code":"pkgstats_summary(s = NULL)"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Condense the output of pkgstats to summary statistics only ‚Äî pkgstats_summary","text":"s Output pkgstats, containing full statistical data one package. Default NULL returns single row NA values (used pkgstats_from_archive).","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Condense the output of pkgstats to summary statistics only ‚Äî pkgstats_summary","text":"Summarised version s, single row standardised data.frame object","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Condense the output of pkgstats to summary statistics only ‚Äî pkgstats_summary","text":"Variable names summary object use following abbreviations: \"loc\" = Lines--Code \"fn\" = Function \"n_fns\" = Number functions \"npars\" = Number parameters \"doclines\" = Number documentation lines \"nedges\" = Number edges function call network, count unique edges, may less size network object returned pkgstats, may include multiple calls identical function pairs. \"n_clusters\" = Number connected clusters within function call network. \"centrality\" used prefix several statistics, along \"dir\" \"undir\" centrality calculated networks respectively constructed directed undirected edges; \"mn\" \"md\" respective measures mean median centrality, \"no0\" measures excluding edges zero centrality.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Condense the output of pkgstats to summary statistics only ‚Äî pkgstats_summary","text":"","code":"f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") if (FALSE) { # \\dontrun{ p <- pkgstats (f) s <- pkgstats_summary (p) } # }"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Update pkgstats` data on GitHub release ‚Äî pkgstats_update","title":"Update pkgstats` data on GitHub release ‚Äî pkgstats_update","text":"function intended internal rOpenSci use . Usage unauthorized users error effect unless run upload = FALSE, case updated data created sub-directory \"pkgstats-results\" R's current temporary directory.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update pkgstats` data on GitHub release ‚Äî pkgstats_update","text":"","code":"pkgstats_update(upload = TRUE)"},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update pkgstats` data on GitHub release ‚Äî pkgstats_update","text":"upload TRUE, upload updated results GitHub release.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/pkgstats_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update pkgstats` data on GitHub release ‚Äî pkgstats_update","text":"Local path directory containing updated results.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/plot_network.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot interactive visNetwork visualisation of object-relationship network of package. ‚Äî plot_network","title":"Plot interactive visNetwork visualisation of object-relationship network of package. ‚Äî plot_network","text":"Plot interactive visNetwork visualisation object-relationship network package.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/plot_network.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot interactive visNetwork visualisation of object-relationship network of package. ‚Äî plot_network","text":"","code":"plot_network(s, plot = TRUE, vis_save = NULL)"},{"path":"https://docs.ropensci.org/pkgstats/reference/plot_network.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot interactive visNetwork visualisation of object-relationship network of package. ‚Äî plot_network","text":"s Package statistics obtained pkgstats function. plot TRUE, plot network using visNetwork opens interactive browser pane. vis_save Name local file save html file network visualisation (override plot FALSE).","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/plot_network.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot interactive visNetwork visualisation of object-relationship network of package. ‚Äî plot_network","text":"(Invisibly) visNetwork representation package network.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/plot_network.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Plot interactive visNetwork visualisation of object-relationship network of package. ‚Äî plot_network","text":"Edge thicknesses scaled centrality within package function call network. Node sizes scaled numbers times function called functions within package.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/plot_network.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot interactive visNetwork visualisation of object-relationship network of package. ‚Äî plot_network","text":"","code":"f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") if (FALSE) { # \\dontrun{ p <- pkgstats (f) plot_network (p) } # }"},{"path":"https://docs.ropensci.org/pkgstats/reference/rd_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Stats from '.Rd' files ‚Äî rd_stats","title":"Stats from '.Rd' files ‚Äî rd_stats","text":"Stats '.Rd' files","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/rd_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stats from '.Rd' files ‚Äî rd_stats","text":"","code":"rd_stats(path)"},{"path":"https://docs.ropensci.org/pkgstats/reference/rd_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stats from '.Rd' files ‚Äî rd_stats","text":"path Directory source code package analysed","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/rd_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stats from '.Rd' files ‚Äî rd_stats","text":"data.frame function names numbers parameters lines documentation , along mean median numbers characters used document parameter.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/rd_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stats from '.Rd' files ‚Äî rd_stats","text":"","code":"f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") # have to extract tarball to call function on source code: path <- extract_tarball (f) rd_stats (path) #>                  fn_name num_params num_doclines param_nchars_mn #> 1          ctags_install          2           23       157.00000 #> 2             ctags_test          1           22        73.00000 #> 3             desc_stats          1           26        35.00000 #> 4        extract_tarball          1           25        43.00000 #> 5              loc_stats          1           34        35.00000 #> 6               pkgstats          1           45       103.00000 #> 7  pkgstats_from_archive          7           49       174.85714 #> 8       pkgstats_summary          1           50       153.00000 #> 9           plot_network          3           34        78.33333 #> 10              rd_stats          1           26        35.00000 #> 11             tags_data          3           31       105.66667 #>    param_nchars_md #> 1              157 #> 2               73 #> 3               35 #> 4               43 #> 5               35 #> 6              103 #> 7              163 #> 8              153 #> 9               83 #> 10              35 #> 11              69"},{"path":"https://docs.ropensci.org/pkgstats/reference/tags_data.html","id":null,"dir":"Reference","previous_headings":"","what":"use ctags and gtags to parse call data ‚Äî tags_data","title":"use ctags and gtags to parse call data ‚Äî tags_data","text":"use ctags gtags parse call data","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/tags_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"use ctags and gtags to parse call data ‚Äî tags_data","text":"","code":"tags_data(path, has_tabs = NULL, pkg_name = NULL)"},{"path":"https://docs.ropensci.org/pkgstats/reference/tags_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"use ctags and gtags to parse call data ‚Äî tags_data","text":"path Path local repository has_tabs logical flag indicating whether code contains tab characters. can determined loc_stats, tabs column. given, value extracted internally calling function. pkg_name used external_call_network, label package-internal calls.","code":""},{"path":"https://docs.ropensci.org/pkgstats/reference/tags_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"use ctags and gtags to parse call data ‚Äî tags_data","text":"list three items: \"network\" data.frame relationships objects, generally calls functions R, kinds relationships source languages. effectively edge-based network representation, data frame also include network metrics edge, calculated representing network directed (suffix \"_dir\") undirected (suffix \"_undir\") forms. \"objects\" data.frame statistics object (generally functions R, kinds objects source languages), including kind object, language, numbers lines--code, parameters, lines documentation, binary flag indicating whether R functions accept \"three-dots\" parameters (...). \"external_calls\" data.frame every call within every R function external R package, including base recommended packages. location calls recorded, along external function package called.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/pkgstats/reference/tags_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"use ctags and gtags to parse call data ‚Äî tags_data","text":"","code":"f <- system.file (\"extdata\", \"pkgstats_9.9.tar.gz\", package = \"pkgstats\") # have to extract tarball to call function on source code: path <- extract_tarball (f) if (FALSE) { # \\dontrun{ tags <- tags_data (path) } # }"}]
