<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Package Statistics • pkgstats</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Package Statistics">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">pkgstats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0.046</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="active nav-item"><a class="nav-link" href="../articles/pkgstats.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/installation.html">Installation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci-review-tools/pkgstats/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Package Statistics</h1>
                        <h4 data-toc-skip class="author">Mark
Padgham</h4>
            
            <h4 data-toc-skip class="date">2024-10-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci-review-tools/pkgstats/blob/master/vignettes/pkgstats.Rmd" class="external-link"><code>vignettes/pkgstats.Rmd</code></a></small>
      <div class="d-none name"><code>pkgstats.Rmd</code></div>
    </div>

    
    
<p>This vignette describes the statistics collated by
<code>pkgstats</code>. The first section provides full descriptions of
all data returned by <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats.html">the
main <code>pkgstats()</code> function</a>, and the second section
describes the output of <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html">the
<code>pkgstats_summary()</code> function</a> which converts statistics
to a single-row summary. Single-row summaries from multiple packages can
be combined to represent the statistical properties of multiple packages
in a single <code>data.frame</code> object. <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats.html">The
<code>pkgstats()</code> function</a> is applied to all CRAN packages on
a regular basis, with results accessible with <a href="https://docs.ropensci.org/pkgstats/reference/dl_pkgstats_data.html">the
<code>dl_pkgstats_data()</code> function</a>.</p>
<div class="section level2">
<h2 id="overview-of-package-statistics">Overview of Package Statistics<a class="anchor" aria-label="anchor" href="#overview-of-package-statistics"></a>
</h2>
<p>The <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats.html">main
<code>pkgstats()</code> function</a> returns a <code>list</code> of
eight main components:</p>
<ol style="list-style-type: decimal">
<li>
<code>"loc"</code> summarising “Lines of Code” in package
sub-directories and languages;</li>
<li>
<code>"vignettes"</code> containing counts of numbers of vignettes
and demos;</li>
<li>
<code>"data_stats"</code> summarising data files;</li>
<li>
<code>"desc"</code> summarising the contents of the package
“DESCRIPTION” file;</li>
<li>
<code>"translations"</code> summarising translations into other
(human) languages;</li>
<li>
<code>"objects"</code>: a table of all “objects” in all
languages;</li>
<li>
<code>"network"</code>: a table of relationships between objects,
such as function calls; and</li>
<li>
<code>"external_calls"</code>: a detailed table of all calls made to
all R functions.</li>
</ol>
<p>The following sub-sections provide further detail on these components
(except the simpler components of <code>"vignettes"</code>,
<code>"data_stats"</code>, and <code>"translations"</code>). The results
use the output of applying the function to the source code of this
package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pkgstats.html">pkgstats</a></span> <span class="op">(</span><span class="op">)</span> <span class="co"># run in root directory of `pkgstats` source</span></span></code></pre></div>
<p>The result is a list of various data extracted from the code. All
except for <code>objects</code> and <code>network</code> represent
summary data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span> <span class="op">(</span><span class="va">s</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span> <span class="op">(</span><span class="st">"objects"</span>, <span class="st">"network"</span>, <span class="st">"external_calls"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; $loc</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 11</span></span></span>
<span><span class="co">#&gt;   language dir       nfiles nlines ncode nempty nspaces nchars nexpr ntabs</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C++      src            3    364   276     67     932   <span style="text-decoration: underline;">6</span>983     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> R        R             24   <span style="text-decoration: underline;">4</span>727   345    682     333 <span style="text-decoration: underline;">114</span>334     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> R        tests          7    300   234     61     511   <span style="text-decoration: underline;">5</span>543     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Rmd      vignettes      2    347   278     61    <span style="text-decoration: underline;">1</span>483  <span style="text-decoration: underline;">11</span>290     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: indentation &lt;int&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $vignettes</span></span>
<span><span class="co">#&gt; vignettes     demos </span></span>
<span><span class="co">#&gt;         2         0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data_stats</span></span>
<span><span class="co">#&gt;           n  total_size median_size </span></span>
<span><span class="co">#&gt;           0           0           0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $desc</span></span>
<span><span class="co">#&gt;    package verion                     date license</span></span>
<span><span class="co">#&gt; 1 pkgstats  0.1.1 Thu Oct 24 16:18:25 2024   GPL-3</span></span>
<span><span class="co">#&gt;                                                                                       urls</span></span>
<span><span class="co">#&gt; 1 https://docs.ropensci.org/pkgstats/,\nnhttps://github.com/ropensci-review-tools/pkgstats</span></span>
<span><span class="co">#&gt;                                                       bugs aut ctb fnd rev ths</span></span>
<span><span class="co">#&gt; 1 https://github.com/ropensci-review-tools/pkgstats/issues   1   0   0   0   0</span></span>
<span><span class="co">#&gt;   trl depends                                                        imports</span></span>
<span><span class="co">#&gt; 1   0      NA brio, checkmate, dplyr, fs, igraph, methods, readr, sys, withr</span></span>
<span><span class="co">#&gt;                                                                                          suggests</span></span>
<span><span class="co">#&gt; 1 curl, hms, jsonlite, knitr, parallel, pkgbuild, Rcpp, rmarkdown, roxygen2, testthat, visNetwork</span></span>
<span><span class="co">#&gt;   enchances linking_to</span></span>
<span><span class="co">#&gt; 1      &lt;NA&gt;      cpp11</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $translations</span></span>
<span><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>These results demonstrate that many fields use <code>NA</code> to
denote values of zero. The following sub-sections explore these various
components generated by the <code><a href="../reference/pkgstats.html">pkgstats()</a></code> function in more
detail.</p>
</div>
<div class="section level2">
<h2 id="lines-of-code">Lines of Code<a class="anchor" aria-label="anchor" href="#lines-of-code"></a>
</h2>
<p>The first item in the above list is “loc” for Lines-of-Code, which
are counted using an internal routine specifically developed for R
packages, and which provides more accurate and R-specific information
than most open source code counting libraries. For example, the counts
in <code>pkgstats</code> are able to distinguish and separately count
code chunks and text lines in <code>.Rmd</code> files.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span><span class="op">$</span><span class="va">loc</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 11</span></span></span>
<span><span class="co">#&gt;   language dir       nfiles nlines ncode nempty nspaces nchars nexpr ntabs</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C++      src            3    364   276     67     932   <span style="text-decoration: underline;">6</span>983     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> R        R             24   <span style="text-decoration: underline;">4</span>727   345    682     333 <span style="text-decoration: underline;">114</span>334     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> R        tests          7    300   234     61     511   <span style="text-decoration: underline;">5</span>543     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Rmd      vignettes      2    347   278     61    <span style="text-decoration: underline;">1</span>483  <span style="text-decoration: underline;">11</span>290     1     0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: indentation &lt;int&gt;</span></span></span></code></pre></div>
<p>That output includes the following components, grouped by both
computer language and package directory:</p>
<ol style="list-style-type: decimal">
<li>
<code>nfiles</code> = Numbers of files in each directory and
language.</li>
<li>
<code>nlines</code> = Total numbers of lines in all files.</li>
<li>
<code>ncode</code> = Total numbers of lines of code.</li>
<li>
<code>ndoc</code> = Total numbers of documentation or comment
lines.</li>
<li>
<code>nempty</code> = Total numbers of empty of blank lines.</li>
<li>
<code>nspaces</code> = Total numbers of white spaces in all code
lines, excluding leading indentation spaces.</li>
<li>
<code>nchars</code> = Total numbers of non-white-space characters in
all code lines.</li>
<li>
<code>nexpr</code> = Median numbers of nested expressions in all
lines which have any expressions (see below).</li>
<li>
<code>ntabs</code> = Number of lines of code with initial tab
indentation.</li>
<li>
<code>indentation</code> = Number of spaces by which code is
indented (with <code>-1</code> denoting tab-indentation).</li>
</ol>
<p>Numbers of nested expressions are counted as numbers of brackets or
braces of any type nested on a single line. The following line has one
nested bracket:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">myfn</span> <span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>while the following has four:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="kw">function</span> <span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="fu">myfn</span> <span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">}</span></span></code></pre></div>
<p>Code with fewer nested expressions per line is generally easier to
read, and this metric is provided as one indication of the general
readability of code. A second relative indication may be extracted by
converting numbers of spaces and characters to a measure of relative
numbers of white spaces, noting that the <code>nchars</code> value
quantifies total characters including white spaces.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">index</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">loc</span><span class="op">$</span><span class="va">dir</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span> <span class="op">(</span><span class="st">"R"</span>, <span class="st">"src"</span><span class="op">)</span><span class="op">)</span> <span class="co"># consider source code only</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">loc</span><span class="op">$</span><span class="va">nspaces</span> <span class="op">[</span><span class="va">index</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">loc</span><span class="op">$</span><span class="va">nchars</span> <span class="op">[</span><span class="va">index</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.01042723</span></span></code></pre></div>
<p>Finally, the <code>ntabs</code> statistic can be used to identify
whether code uses tab characters as indentation, otherwise the
<code>indentation</code> statistics indicate median numbers of white
spaces by which code is indented. The <code>objects</code>,
<code>network</code>, and <code>external_calls</code> items returned by
the <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats.html"><code>pkgstats()</code>
function</a> are described further below.</p>
</div>
<div class="section level2">
<h2 id="desc-the-package-description-file">
<code>"desc"</code>: The package “DESCRIPTION” file<a class="anchor" aria-label="anchor" href="#desc-the-package-description-file"></a>
</h2>
<p>The <code>desc</code> item looks like this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span><span class="op">$</span><span class="va">desc</span></span>
<span><span class="co">#&gt;    package verion                     date license</span></span>
<span><span class="co">#&gt; 1 pkgstats  0.1.1 Thu Oct 24 16:18:25 2024   GPL-3</span></span>
<span><span class="co">#&gt;                                                                                       urls</span></span>
<span><span class="co">#&gt; 1 https://docs.ropensci.org/pkgstats/,\nnhttps://github.com/ropensci-review-tools/pkgstats</span></span>
<span><span class="co">#&gt;                                                       bugs aut ctb fnd rev ths</span></span>
<span><span class="co">#&gt; 1 https://github.com/ropensci-review-tools/pkgstats/issues   1   0   0   0   0</span></span>
<span><span class="co">#&gt;   trl depends                                                        imports</span></span>
<span><span class="co">#&gt; 1   0      NA brio, checkmate, dplyr, fs, igraph, methods, readr, sys, withr</span></span>
<span><span class="co">#&gt;                                                                                          suggests</span></span>
<span><span class="co">#&gt; 1 curl, hms, jsonlite, knitr, parallel, pkgbuild, Rcpp, rmarkdown, roxygen2, testthat, visNetwork</span></span>
<span><span class="co">#&gt;   enchances linking_to</span></span>
<span><span class="co">#&gt; 1      &lt;NA&gt;      cpp11</span></span></code></pre></div>
<p>This item includes the following components:</p>
<ul>
<li>Package name, version, date, and license</li>
<li>Package URL(s) (<code>urls</code>)</li>
<li>URL for BugReports (<code>bugs</code>)</li>
<li>Number of contributors with role of <em>author</em>
(<code>desc_n_aut</code>), <em>contributor</em>
(<code>desc_n_ctb</code>), <em>funder</em> (<code>desc_n_fnd</code>),
<em>reviewer</em> (<code>desc_n_rev</code>), <em>thesis advisor</em>
(<code>ths</code>), and <em>translator</em> (<code>trl</code>, relating
to translation between computer and not spoken languages).</li>
<li>Comma-separated character entries for all <code>depends</code>,
<code>imports</code>, <code>suggests</code>, and <code>linking_to</code>
packages.</li>
</ul>
<p>The “Date” field is taken from the “Date/Publication” field
automatically inserted by CRAN on package publication, or for non-CRAN
packages to the “mtime” value (modification time) value of the
DESCRIPTION file. Note that “date” values extracted by
<code>pkgstats</code> do not use “Date” values from DESCRIPTION files
(as these are manually-entered, and potentially unreliable).</p>
<div class="section level3">
<h3 id="objects-objects-in-all-languages">1.3 <code>"objects"</code>: Objects in all languages<a class="anchor" aria-label="anchor" href="#objects-objects-in-all-languages"></a>
</h3>
<p>The <code>objects</code> item contains all code objects identified by
the code-tagging library <a href="https://ctags.io" class="external-link"><code>ctags</code></a>. For R, those are
primarily functions, but for other languages may be a variety of
entities such as class or structure definitions, or sub-members thereof.
Object tables look like this:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">objects</span><span class="op">)</span></span>
<span><span class="co">#&gt;           file_name                   fn_name     kind language loc npars</span></span>
<span><span class="co">#&gt; 1 R/archive-trawl.R     pkgstats_from_archive function        R  89     9</span></span>
<span><span class="co">#&gt; 2 R/archive-trawl.R        list_archive_files function        R  17     2</span></span>
<span><span class="co">#&gt; 3 R/archive-trawl.R             rm_prev_files function        R  24     2</span></span>
<span><span class="co">#&gt; 4 R/archive-trawl.R pkgstats_fns_from_archive function        R  82     7</span></span>
<span><span class="co">#&gt; 5         R/cpp11.R                   cpp_loc function        R   3     4</span></span>
<span><span class="co">#&gt; 6 R/ctags-install.R                clone_ctag function        R  17     1</span></span>
<span><span class="co">#&gt;   has_dots exported param_nchards_md param_nchards_mn num_doclines</span></span>
<span><span class="co">#&gt; 1    FALSE     TRUE              133         159.7778           77</span></span>
<span><span class="co">#&gt; 2    FALSE    FALSE               NA               NA           NA</span></span>
<span><span class="co">#&gt; 3    FALSE    FALSE               NA               NA           NA</span></span>
<span><span class="co">#&gt; 4    FALSE     TRUE              163         174.5714           50</span></span>
<span><span class="co">#&gt; 5    FALSE    FALSE               NA               NA           NA</span></span>
<span><span class="co">#&gt; 6    FALSE    FALSE               NA               NA           NA</span></span></code></pre></div>
<p>Objects are primarily sorted by language, with R-language objects
given first. These are mostly functions, and include statistics on:</p>
<ul>
<li>lines of code used to define each function (<code>loc</code>);</li>
<li>numbers of parameters (<code>npars</code>);</li>
<li>whether or not the function includes a “three dots” parameter (that
is, <code>...</code>; identified by <code>has_dots</code>);</li>
<li>whether or not a function is exported (<code>exported</code>);</li>
<li>Mean and median numbers of character used to document each parameter
(<code>param_nchards_mn</code> and <code>param_nchards_md</code>,
respectively); and</li>
<li>Total number of lines of documentation for that object /
function.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="network-relationships-between-objects">
<code>"network"</code>: Relationships between objects<a class="anchor" aria-label="anchor" href="#network-relationships-between-objects"></a>
</h2>
<p>The <code>network</code> item details all relationships between
objects, which generally reflects one object calling or otherwise
depending on another object. Each row thus represents one edge of a
“function call” network, with each entry in the <code>from</code> and
<code>to</code> columns representing the network vertices or nodes.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">network</span><span class="op">)</span></span>
<span><span class="co">#&gt;                   file line1                    from                        to</span></span>
<span><span class="co">#&gt; 1   R/external_calls.R    11   external_call_network      extract_call_content</span></span>
<span><span class="co">#&gt; 2   R/external_calls.R    26   external_call_network add_base_recommended_pkgs</span></span>
<span><span class="co">#&gt; 3   R/external_calls.R    38   external_call_network   add_other_pkgs_to_calls</span></span>
<span><span class="co">#&gt; 4   R/external_calls.R   326 add_other_pkgs_to_calls             control_parse</span></span>
<span><span class="co">#&gt; 5 R/pkgstats-summary.R    39        pkgstats_summary                null_stats</span></span>
<span><span class="co">#&gt; 6 R/pkgstats-summary.R    50        pkgstats_summary               loc_summary</span></span>
<span><span class="co">#&gt;   language cluster_dir centrality_dir cluster_undir centrality_undir</span></span>
<span><span class="co">#&gt; 1        R           1              9             1         230.8333</span></span>
<span><span class="co">#&gt; 2        R           1              9             1         230.8333</span></span>
<span><span class="co">#&gt; 3        R           1              9             1         230.8333</span></span>
<span><span class="co">#&gt; 4        R           1              1             1           6.0000</span></span>
<span><span class="co">#&gt; 5        R           1             11             1         874.0000</span></span>
<span><span class="co">#&gt; 6        R           1             11             1         874.0000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">network</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 142</span></span></code></pre></div>
<p>The network table includes additional statistics on the centrality of
each edge, measured as betweenness centrality assuming edges to be both
directed (<code>centrality_dir</code>) and undirected
(<code>centrality_undir</code>). More central edges reflect connections
between objects that are more central to package functionality, and vice
versa. The distinct components of the network are also represented by
discrete cluster numbers, calculated both for directed and undirected
versions of the network. Each distinct cluster number represents a
distinct group of objects, internally related to other members of the
same cluster, yet independent of all objects with different cluster
numbers.</p>
<p>The network can be viewed as an interactive <a href="https://visjs.org/" class="external-link"><code>vis.js</code></a> network through
passing the result of <code>pkgstats</code> – the variable
<code>p</code> in the code above – to the <a href="https://docs.ropensci.org/pkgstats/reference/plot_network.html"><code>plot_network()</code>
function</a>.</p>
</div>
<div class="section level2">
<h2 id="external_calls-all-calls-made-to-all-r-functions">
<code>"external_calls"</code>: All calls made to all R
functions<a class="anchor" aria-label="anchor" href="#external_calls-all-calls-made-to-all-r-functions"></a>
</h2>
<p>The <code>external_calls</code> item is structured similar to the
<code>network</code> object, but identifies all calls to functions from
external packages. However, unlike the <code>network</code> and
<code>object</code> data, which provide information on objects and
relationships in all computer languages used within a package, the
<code>external_calls</code> object maps calls within R code only, in
order to provide insight into the use within a package of of functions
from other packages, including R’s base and recommended packages. The
object looks like this:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">external_calls</span><span class="op">)</span></span>
<span><span class="co">#&gt;   tags_line      call        tag           file     kind start end package</span></span>
<span><span class="co">#&gt; 1         1         c GTAGSLABEL R/ctags-test.R nameattr   109 109    base</span></span>
<span><span class="co">#&gt; 2         2 character  file_name   R/pkgstats.R nameattr   185 185    base</span></span>
<span><span class="co">#&gt; 3         3 character    fn_name   R/pkgstats.R nameattr   186 186    base</span></span>
<span><span class="co">#&gt; 4         4   logical   has_dots   R/pkgstats.R nameattr   189 189    base</span></span>
<span><span class="co">#&gt; 5         5   integer        loc   R/pkgstats.R nameattr   187 187    base</span></span>
<span><span class="co">#&gt; 6         6 left_join       name       R/plot.R nameattr    89  89   dplyr</span></span></code></pre></div>
<p>These data are converted to a summary form by the <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html"><code>pkgstats_summary()</code>
function</a>, which tabulates numbers of external calls and unique
functions from each package. These data are presented as a single
character string which looks like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s_summ</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pkgstats_summary.html">pkgstats_summary</a></span> <span class="op">(</span><span class="va">s</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span> <span class="op">(</span><span class="va">s_summ</span><span class="op">$</span><span class="va">external_calls</span><span class="op">)</span></span></code></pre></div>
<p>These data can be easily converted to the corresponding numeric
values using code like the following:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span> <span class="op">(</span><span class="va">s_summ</span><span class="op">$</span><span class="va">external_calls</span>, <span class="st">","</span><span class="op">)</span> <span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span> <span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span> <span class="op">(</span><span class="va">x</span>, <span class="st">":"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span> <span class="op">(</span></span>
<span>    pkg <span class="op">=</span> <span class="va">x</span> <span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>,</span>
<span>    n_total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span> <span class="op">(</span><span class="va">x</span> <span class="op">[</span>, <span class="fl">2</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    n_unique <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span> <span class="op">(</span><span class="va">x</span> <span class="op">[</span>, <span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">n_total_rel</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span> <span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">n_total</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span> <span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">n_total</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">n_unique_rel</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span> <span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">n_unique</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span> <span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">n_unique</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span> <span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt;           pkg n_total n_unique n_total_rel n_unique_rel</span></span>
<span><span class="co">#&gt; 1        base     581       84       0.704        0.426</span></span>
<span><span class="co">#&gt; 2        brio      11        2       0.013        0.010</span></span>
<span><span class="co">#&gt; 3        curl       4        3       0.005        0.015</span></span>
<span><span class="co">#&gt; 4       dplyr       7        4       0.008        0.020</span></span>
<span><span class="co">#&gt; 5          fs       4        2       0.005        0.010</span></span>
<span><span class="co">#&gt; 6    graphics      10        2       0.012        0.010</span></span>
<span><span class="co">#&gt; 7         hms       2        1       0.002        0.005</span></span>
<span><span class="co">#&gt; 8      igraph       3        3       0.004        0.015</span></span>
<span><span class="co">#&gt; 9    parallel       2        1       0.002        0.005</span></span>
<span><span class="co">#&gt; 10   pkgstats     126       73       0.153        0.371</span></span>
<span><span class="co">#&gt; 11      readr       8        5       0.010        0.025</span></span>
<span><span class="co">#&gt; 12      stats      19        3       0.023        0.015</span></span>
<span><span class="co">#&gt; 13        sys      14        1       0.017        0.005</span></span>
<span><span class="co">#&gt; 14      tools       3        2       0.004        0.010</span></span>
<span><span class="co">#&gt; 15      utils      22        7       0.027        0.036</span></span>
<span><span class="co">#&gt; 16 visNetwork       3        2       0.004        0.010</span></span>
<span><span class="co">#&gt; 17      withr       6        2       0.007        0.010</span></span></code></pre></div>
<p>Those data reveal, for example, that this package makes 581
individual calls to 84 unique functions from the “base” package.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
