<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Metrics of R Packages • pkgstats</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Metrics of R Packages">
<meta name="description" content="Static code analyses for R packages using the external code-tagging libraries ctags and gtags. Static analyses enable packages to be analysed very quickly, generally a couple of seconds at most. The package also provides access to a database generating by applying the main function to the full CRAN archive, enabling the statistical properties of any package to be compared with all other CRAN packages.">
<meta property="og:description" content="Static code analyses for R packages using the external code-tagging libraries ctags and gtags. Static analyses enable packages to be analysed very quickly, generally a couple of seconds at most. The package also provides access to a database generating by applying the main function to the full CRAN archive, enabling the statistical properties of any package to be compared with all other CRAN packages.">
<meta property="og:image" content="https://docs.ropensci.org/pkgstats/logo.png">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">pkgstats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0.046</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="articles/pkgstats.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/installation.html">Installation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci-review-tools/pkgstats/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="pkgstats">pkgstats<a class="anchor" aria-label="anchor" href="#pkgstats"></a>
</h1>
</div>
<p>Extract summary statistics of R package structure and functionality. Not all statistics of course, but a good go at balancing insightful statistics while ensuring computational feasibility. <code>pkgstats</code> is a <em>static</em> code analysis tool, so is generally very fast (a few seconds at most for very large packages). Installation is described in <a href="https://docs.ropensci.org/pkgstats/articles/installation.html">a separate vignette</a>.</p>
<div class="section level2">
<h2 id="what-statistics">What statistics?<a class="anchor" aria-label="anchor" href="#what-statistics"></a>
</h2>
<p>Statistics are derived from these primary sources:</p>
<ol style="list-style-type: decimal">
<li>Numbers of lines of code, documentation, and white space (both between and within lines) in each directory and language</li>
<li>Summaries of package <code>DESCRIPTION</code> file and related package meta-statistics</li>
<li>Summaries of all objects created via package code across multiple languages and all directories containing source code (<code>./R</code>, <code>./src</code>, and <code>./inst/include</code>).</li>
<li>A function call network derived from function definitions obtained from <a href="https://ctags.io" class="external-link">the code tagging library, <code>ctags</code></a>, and references (“calls”) to those obtained from <a href="https://www.gnu.org/software/global/" class="external-link">another tagging library, <code>gtags</code></a>. This network roughly connects every object making a call (as <code>from</code>) with every object being called (<code>to</code>).</li>
<li>An additional function call network connecting calls within R functions to all functions from other R packages.</li>
</ol>
<p>The <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats.html">primary function, <code>pkgstats()</code></a>, returns a list of these various components, including full <code>data.frame</code> objects for the final three components described above. The statistical properties of this list can be aggregated by the <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html"><code>pkgstats_summary()</code> function</a>, which returns a <code>data.frame</code> with a single row of summary statistics. This function is demonstrated below, including full details of all statistics extracted.</p>
</div>
<div class="section level2">
<h2 id="demonstration">Demonstration<a class="anchor" aria-label="anchor" href="#demonstration"></a>
</h2>
<p>The following code demonstrates the output of the main function, <code>pkgstats</code>, using an internally bundled <code>.tar.gz</code> “tarball” of this package. The <code>system.time</code> call demonstrates that the static code analyses of <code>pkgstats</code> are generally very fast.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/pkgstats/">pkgstats</a></span><span class="op">)</span></span>
<span><span class="va">tarball</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span> <span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"pkgstats_9.9.tar.gz"</span>, package <span class="op">=</span> <span class="st">"pkgstats"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span> <span class="op">(</span></span>
<span>    <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pkgstats.html">pkgstats</a></span> <span class="op">(</span><span class="va">tarball</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="do">##    user  system elapsed </span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="do">##   1.701   0.124   1.802</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span> <span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="do">## [1] "loc"            "vignettes"      "data_stats"     "desc"          </span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="do">## [5] "translations"   "objects"        "network"        "external_calls"</span></span></code></pre></div>
<p>The result is a list of various data extracted from the code. All except for <code>objects</code> and <code>network</code> represent summary data:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span> <span class="op">(</span><span class="va">p</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span> <span class="op">(</span><span class="st">"objects"</span>, <span class="st">"network"</span>, <span class="st">"external_calls"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="do">## $loc</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="do">## # A tibble: 3 × 12</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="do">## # Groups:   language, dir [3]</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="do">##   language dir   nfiles nlines ncode  ndoc nempty nspaces nchars nexpr ntabs</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="do">##   &lt;chr&gt;    &lt;chr&gt;  &lt;int&gt;  &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt;   &lt;int&gt;  &lt;int&gt; &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="do">## 1 C++      src        3    365   277    21     67     933   7002     1     0</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="do">## 2 R        R         19   3741  2698   536    507   27575  94022     1     0</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a><span class="do">## 3 R        tests      7    348   266    10     72     770   6161     1     0</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="do">## # … with 1 more variable: indentation &lt;int&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a><span class="do">## $vignettes</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="do">## vignettes     demos </span></span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="do">##         0         0 </span></span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a><span class="do">## $data_stats</span></span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a><span class="do">##           n  total_size median_size </span></span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a><span class="do">##           0           0           0 </span></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a><span class="do">## $desc</span></span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a><span class="do">##    package version                date license</span></span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a><span class="do">## 1 pkgstats     9.9 2022-05-12 11:41:22   GPL-3</span></span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a><span class="do">##                                                                                      urls</span></span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a><span class="do">## 1 https://docs.ropensci.org/pkgstats/,\nhttps://github.com/ropensci-review-tools/pkgstats</span></span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a><span class="do">##                                                       bugs aut ctb fnd rev ths</span></span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a><span class="do">## 1 https://github.com/ropensci-review-tools/pkgstats/issues   1   0   0   0   0</span></span>
<span id="cb6-26"><a href="#cb6-26" tabindex="-1"></a><span class="do">##   trl depends                                                        imports</span></span>
<span id="cb6-27"><a href="#cb6-27" tabindex="-1"></a><span class="do">## 1   0      NA brio, checkmate, dplyr, fs, igraph, methods, readr, sys, withr</span></span>
<span id="cb6-28"><a href="#cb6-28" tabindex="-1"></a><span class="do">##                                                                         suggests</span></span>
<span id="cb6-29"><a href="#cb6-29" tabindex="-1"></a><span class="do">## 1 hms, knitr, pbapply, pkgbuild, Rcpp, rmarkdown, roxygen2, testthat, visNetwork</span></span>
<span id="cb6-30"><a href="#cb6-30" tabindex="-1"></a><span class="do">##   enhances linking_to</span></span>
<span id="cb6-31"><a href="#cb6-31" tabindex="-1"></a><span class="do">## 1       NA      cpp11</span></span>
<span id="cb6-32"><a href="#cb6-32" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb6-33"><a href="#cb6-33" tabindex="-1"></a><span class="do">## $translations</span></span>
<span id="cb6-34"><a href="#cb6-34" tabindex="-1"></a><span class="do">## [1] NA</span></span></code></pre></div>
<p>The various components of these results are described in further detail in the <a href="https://docs.ropensci.org/pkgstats/articles/pkgstats.html">main package vignette</a>.</p>
<div class="section level3">
<h3 id="overview-of-statistics-and-the-pkgstats_summary-function">Overview of statistics and the <code>pkgstats_summary()</code> function<a class="anchor" aria-label="anchor" href="#overview-of-statistics-and-the-pkgstats_summary-function"></a>
</h3>
<p>A summary of the <code>pkgstats</code> data can be obtained by submitting the object returned from <code><a href="reference/pkgstats.html">pkgstats()</a></code> to the <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html"><code>pkgstats_summary()</code> function</a>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pkgstats_summary.html">pkgstats_summary</a></span> <span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p>This function reduces the result of the <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html"><code>pkgstats()</code> function</a> to a single line with 95 entries, represented as a <code>data.frame</code> with one row and that number of columns. This format is intended to enable summary statistics from multiple packages to be aggregated by simply binding rows together. While 95 statistics might seem like a lot, the <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html"><code>pkgstats_summary()</code> function</a> aims to return as many usable raw statistics as possible in order to flexibly allow higher-level statistics to be derived through combination and aggregation. These 95 statistics can be roughly grouped into the following categories (not shown in the order in which they actually appear), with variable names in parentheses after each description. Some statistics are summarised as comma-delimited character strings, such as translations into human languages, or other packages listed under “depends”, “imports”, or “suggests”. This enables subsequent analyses of their contents, for example of actual translated languages, or both aggregate numbers and individual details of all package dependencies, as demonstrated immediately below.</p>
<p><strong>Package Summaries</strong></p>
<ul>
<li>name (<code>package</code>)</li>
<li>Package version (<code>version</code>)</li>
<li>Package date, as modification time of <code>DESCRIPTION</code> file where not explicitly stated (<code>date</code>)</li>
<li>License (<code>license</code>)</li>
<li>Languages, as a single comma-separated character value (<code>languages</code>), and excluding <code>R</code> itself.</li>
<li>List of translations where package includes translations files, given as list of (spoken) language codes (<code>translations</code>).</li>
</ul>
<p><strong>Information from <code>DESCRIPTION</code> file</strong></p>
<ul>
<li>Package URL(s) (<code>url</code>)</li>
<li>URL for BugReports (<code>bugs</code>)</li>
<li>Number of contributors with role of <em>author</em> (<code>desc_n_aut</code>), <em>contributor</em> (<code>desc_n_ctb</code>), <em>funder</em> (<code>desc_n_fnd</code>), <em>reviewer</em> (<code>desc_n_rev</code>), <em>thesis advisor</em> (<code>ths</code>), and <em>translator</em> (<code>trl</code>, relating to translation between computer and not spoken languages).</li>
<li>Comma-separated character entries for all <code>depends</code>, <code>imports</code>, <code>suggests</code>, and <code>linking_to</code> packages.</li>
</ul>
<p>Numbers of entries in each the of the last two kinds of items can be obtained from by a simple <code>strsplit</code> call, like this:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">deps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">suggests</span>, <span class="st">", "</span><span class="op">)</span> <span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span> <span class="op">(</span><span class="va">deps</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="do">## [1] 9</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span> <span class="op">(</span><span class="va">deps</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="do">## [1] "hms"        "knitr"      "pbapply"    "pkgbuild"   "Rcpp"      </span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="do">## [6] "rmarkdown"  "roxygen2"   "testthat"   "visNetwork"</span></span></code></pre></div>
<p><strong>Numbers of files and associated data</strong></p>
<ul>
<li>Number of vignettes (<code>num_vignettes</code>)</li>
<li>Number of demos (<code>num_demos</code>)</li>
<li>Number of data files (<code>num_data_files</code>)</li>
<li>Total size of all package data (<code>data_size_total</code>)</li>
<li>Median size of package data files (<code>data_size_median</code>)</li>
<li>Numbers of files in main sub-directories (<code>files_R</code>, <code>files_src</code>, <code>files_inst</code>, <code>files_vignettes</code>, <code>files_tests</code>), where numbers are recursively counted in all sub-directories, and where <code>inst</code> only counts files in the <code>inst/include</code> sub-directory.</li>
</ul>
<p><strong>Statistics on lines of code</strong></p>
<ul>
<li>Total lines of code in each sub-directory (<code>loc_R</code>, <code>loc_src</code>, <code>loc_ins</code>, <code>loc_vignettes</code>, <code>loc_tests</code>).</li>
<li>Total numbers of blank lines in each sub-directory (<code>blank_lines_R</code>, <code>blank_lines_src</code>, <code>blank_lines_inst</code>, <code>blank_lines_vignette</code>, <code>blank_lines_tests</code>).</li>
<li>Total numbers of comment lines in each sub-directory (<code>comment_lines_R</code>, <code>comment_lines_src</code>, <code>comment_lines_inst</code>, <code>comment_lines_vignettes</code>, <code>comment_lines_tests</code>).</li>
<li>Measures of relative white space in each sub-directory (<code>rel_space_R</code>, <code>rel_space_src</code>, <code>rel_space_inst</code>, <code>rel_space_vignettes</code>, <code>rel_space_tests</code>), as well as an overall measure for the <code>R/</code>, <code>src/</code>, and <code>inst/</code> directories (<code>rel_space</code>).</li>
<li>The number of spaces used to indent code (<code>indentation</code>), with values of -1 indicating indentation with tab characters.</li>
<li>The median number of nested expression per line of code, counting only those lines which have any expressions (<code>nexpr</code>).</li>
</ul>
<p><strong>Statistics on individual objects (including functions)</strong></p>
<p>These statistics all refer to “functions”, but actually represent more general “objects,” such as global variables or class definitions (generally from languages other than R), as detailed below.</p>
<ul>
<li>Numbers of functions in R (<code>n_fns_r</code>)</li>
<li>Numbers of exported and non-exported R functions (<code>n_fns_r_exported</code>, <code>n_fns_r_not_exported</code>)</li>
<li>Number of functions (or objects) in other computer languages (<code>n_fns_src</code>), including functions in both <code>src</code> and <code>inst/include</code> directories.</li>
<li>Number of functions (or objects) per individual file in R and in all other (<code>src</code>) directories (<code>n_fns_per_file_r</code>, <code>n_fns_per_file_src</code>).</li>
<li>Median and mean numbers of parameters per exported R function (<code>npars_exported_mn</code>, <code>npars_exported_md</code>).</li>
<li>Mean and median lines of code per function in R and other languages, including distinction between exported and non-exported R functions (<code>loc_per_fn_r_mn</code>, <code>loc_per_fn_r_md</code>, <code>loc_per_fn_r_exp_m</code>, <code>loc_per_fn_r_exp_md</code>, <code>loc_per_fn_r_not_exp_mn</code>, <code>loc_per_fn_r_not_exp_m</code>, <code>loc_per_fn_src_mn</code>, <code>loc_per_fn_src_md</code>).</li>
<li>Equivalent mean and median numbers of documentation lines per function (<code>doclines_per_fn_exp_mn</code>, <code>doclines_per_fn_exp_md</code>, <code>doclines_per_fn_not_exp_m</code>, <code>doclines_per_fn_not_exp_md</code>, <code>docchars_per_par_exp_mn</code>, <code>docchars_per_par_exp_m</code>).</li>
</ul>
<p><strong>Network Statistics</strong></p>
<p>The full structure of the <code>network</code> table is described below, with summary statistics including:</p>
<ul>
<li>Number of edges, including distinction between languages (<code>n_edges</code>, <code>n_edges_r</code>, <code>n_edges_src</code>).</li>
<li>Number of distinct clusters in package network (<code>n_clusters</code>).</li>
<li>Mean and median centrality of all network edges, calculated from both directed and undirected representations of network (<code>centrality_dir_mn</code>, <code>centrality_dir_md</code>, <code>centrality_undir_mn</code>, <code>centrality_undir_md</code>).</li>
<li>Equivalent centrality values excluding edges with centrality of zero (<code>centrality_dir_mn_no0</code>, <code>centrality_dir_md_no0</code>, <code>centrality_undir_mn_no0</code>, <code>centrality_undir_md_no</code>).</li>
<li>Numbers of terminal edges (<code>num_terminal_edges_dir</code>, <code>num_terminal_edges_undir</code>).</li>
<li>Summary statistics on node degree (<code>node_degree_mn</code>, <code>node_degree_md</code>, <code>node_degree_max</code>)</li>
</ul>
<p><strong>External Call Statistics</strong></p>
<p>The final column in the result of <a href="https://docs.ropensci.org/pkgstats/reference/pkgstats_summary.html">the <code>pkgstats_summary()</code> function</a> summarises the <code>external_calls</code> object detailing all calls make to external packages (including to base and recommended packages). This summary is also represented as a single character string. Each package lists total numbers of function calls, and total numbers of unique function calls. Data for each package are separated by a comma, while data within each package are separated by a colon.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span><span class="op">$</span><span class="va">external_calls</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="do">## [1] "base:447:78,brio:7:1,dplyr:7:4,fs:4:2,graphics:10:2,hms:1:1,igraph:3:3,pbapply:1:1,pkgstats:99:60,readr:8:5,stats:16:2,sys:13:1,tools:2:2,utils:10:7,visNetwork:3:2,withr:5:1"</span></span></code></pre></div>
<p>This structure allows numbers of calls to all packages to be readily extracted with code like the following:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">calls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span> <span class="op">(</span></span>
<span>    <span class="va">rbind</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span> <span class="op">(</span><span class="va">s</span><span class="op">$</span><span class="va">external_call</span>, <span class="st">","</span><span class="op">)</span> <span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="st">":"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">calls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span> <span class="op">(</span></span>
<span>    package <span class="op">=</span> <span class="va">calls</span> <span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>,</span>
<span>    n_total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span> <span class="op">(</span><span class="va">calls</span> <span class="op">[</span>, <span class="fl">2</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    n_unique <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span> <span class="op">(</span><span class="va">calls</span> <span class="op">[</span>, <span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span> <span class="op">(</span><span class="va">calls</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="do">##       package n_total n_unique</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="do">## 1        base     447       78</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="do">## 2        brio       7        1</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="do">## 3       dplyr       7        4</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="do">## 4          fs       4        2</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="do">## 5    graphics      10        2</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="do">## 6         hms       1        1</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="do">## 7      igraph       3        3</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="do">## 8     pbapply       1        1</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="do">## 9    pkgstats      99       60</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="do">## 10      readr       8        5</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="do">## 11      stats      16        2</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="do">## 12        sys      13        1</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="do">## 13      tools       2        2</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="do">## 14      utils      10        7</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="do">## 15 visNetwork       3        2</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="do">## 16      withr       5        1</span></span></code></pre></div>
<p>The two numeric columns respectively show the total number of calls made to each package, and the total number of unique functions used within those packages. These results provide detailed information on numbers of calls made to, and functions used from, other R packages, including base and recommended packages.</p>
<p>Finally, the summary statistics conclude with two further statistics of <code>afferent_pkg</code> and <code>efferent_pkg</code>. These are package-internal measures of <a href="https://en.wikipedia.org/wiki/Software_package_metrics" class="external-link">afferent and efferent couplings</a> between the files of a package. The <em>afferent</em> couplings (<code>ca</code>) are numbers of <em>incoming</em> calls to each file of a package from functions defined elsewhere in the package, while the <em>efferent</em> couplings (<code>ce</code>) are numbers of <em>outgoing</em> calls from each file of a package to functions defined elsewhere in the package. These can be used to derive a measure of “internal package instability” as the ratio of efferent to total coupling (<code>ce / (ce + ca)</code>).</p>
<p>There are many other “raw” statistics returned by the main <code><a href="reference/pkgstats.html">pkgstats()</a></code> function which are not represented in <code><a href="reference/pkgstats_summary.html">pkgstats_summary()</a></code>. The <a href="https://docs.ropensci.org/pkgstats/articles/pkgstats.html">main package vignette</a> provides further detail on the full results.</p>
<p>The following sub-sections provide further detail on the <code>objects</code>, <code>network</code>, and <code>external_call</code> items, which could be used to extract additional statistics beyond those described here.</p>
</div>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that this package is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=pkgstats" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci-review-tools/pkgstats/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci-review-tools/pkgstats/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing pkgstats</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://mpadge.github.io/" class="external-link">Mark Padgham</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2172-5265" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/pkgstats" class="external-link"><img src="https://ropensci.r-universe.dev/badges/pkgstats" alt="pkgstats status badge"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
